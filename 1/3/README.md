# 21773 [바로가기](https://www.acmicpc.net/problem/21773)  [분석](https://codingdog.tistory.com/537)
여러 개의 프로세스가 일정 알고리즘에 따라 수행됩니다. _t_ 초 후에 어떤 프로세스가 실행되는지 출력해야 합니다.

---
## 출제 의도?
아래 두 개의 출제 의도를 가져갔습니다.
* 학부에서 배우는 **기본 자료구조** 에 대한 이해가 있는지.
* 상대 속도에 대한 이해가 있는지.

결정적으로 1번째 의도 때문에 합불을 가르는 문제로 설정하였습니다.

## 어떻게 접근해야 하는가?
프로세스를 선택하는 조건을 봅시다.
* 우선 순위 값이 **제일 큰** 프로세스
* 그것이 여러 개라면 _id_ 값이 **제일 작은** 프로세스

이 둘을 보았을 때, 매 _T_ 마다 _n_ 만큼 돌면서 검사해도 되겠습니다. 그런데 _Tn_ 이면 시간초과가 나지 않을까요? 문제를 다시 읽어봅시다.
* 제일 이라는 말이 나왔습니다.
* **제일 ~ 한** 것
  * 제일 작은 수 (Min Heap)
  * 제일 큰 수 (Max Heap)

결국 **제일 ~ 한** 것을 뽑는 것과 **Heap** 은 제법 잘 어울린다고 할 수 있습니다. 모르겠다면, 외우면 됩니다.
* 제일 ~ 한 것을 뽑고 싶다.
  * Heap (Priority Queue) 를 쓴다.
  * 혹은 Tree 계열의 자료구조를 써도 된다. (Treemap, Treeset)

다만 Tree 계열의 구조는 Heap 보다 느리다는 것을 참고하시면 됩니다.

## 어떻게 활용?
_Heap_ 을 사용해야 겠다는 것까지 알았습니다. 문제는
* 문제 그대로 다른 프로세스의 우선순위를 +1씩 높여준다면
  * _n-1_ 개에 대해 priority를 높여줘야 한다.
  * _T(n-1)_ 이나 _Tn_ 이나 별 차이가 없다.

는 것입니다. 대신에, 우리는 실행한 프로세스의 우선 순위를 1 낮추면 됩니다. 왜? 상대적인 속도는 아래 두 상황이 똑같기 때문입니다.
* A와 B가 같은 방향으로 움직이고 있다고 합시다.
  * A의 속도가 100이고, B의 속도가 120입니다.
    * 그러면 A가 보았을 떄 B는 20의 속도로 멀어지고 있는 것처럼 보입니다.
    * A의 속도가 1 높아졌다고 해 봅시다. 그러면, A의 속도는 101입니다.
    * 이제 A가 보았을 때 B는 19의 속도로 멀어지고 있는 것처럼 보입니다.
  * A의 속도가 100이고, B의 속도가 120입니다.
    * 그러면 A가 보았을 떄 B는 20의 속도로 멀어지고 있는 것처럼 보입니다.
    * B의 속도가 1 낮아졌다고 해 봅시다. 그러면, B의 속도는 119입니다.
    * 이제 A가 보았을 때 B는 19의 속도로 멀어지고 있는 것처럼 보입니다.
* A를 _n-1_ 개의 다른 프로세스들, B를 실행하고 있는 프로세스로 보면 어떨까요?

따라서, 실행한 프로세스의 우선순위를 1 낮추면 됩니다. 이제 _T_ 가 경과할 때 마다
* 조건에 맞는 **가장 ~ 한 프로세스 하나** 를 뽑습니다.
* 해당 프로세스의 우선 순위를 하나 낮춥니다.
* 다시 자료구조에 넣습니다.

이 일련의 과정이 O(log(n)) 에 수행되므로, 시간 내에 수행될 수 있습니다.